<app-sign>
    <div class="container login-theme">
        <h2>Sign Up</h2>
        <form (ngSubmit)="onSubmit()" [formGroup]="registerForm">

            <mat-form-field appearance="legacy">
                <mat-label>First Name:</mat-label>
                <input 
                matInput 
                type="text"
                formControlName="firstName" 
                placeholder="Your first name"
                autocomplete="off"
                maxlength="25"
                >
                <mat-error *ngIf="getField('firstName')?.errors?.['required']">Name is required</mat-error>
                <mat-error *ngIf="getField('firstName')?.errors?.['pattern']">Only alphabetic characters are allowed</mat-error>
                <mat-error *ngIf="getField('firstName')?.errors?.['minlength'] || getField('firstName')?.errors?.['maxLength']">Between 4 and 25 characters</mat-error>
            </mat-form-field>

            <mat-form-field appearance="legacy">
                <mat-label>Last Name:</mat-label>
                <input 
                matInput 
                type="text"
                formControlName="lastName" 
                placeholder="Your last name"
                autocomplete="off"
                maxlength="25"
                >
                <mat-error *ngIf="getField('lastName')?.errors?.['required']">Name is required</mat-error>
                <mat-error *ngIf="getField('lastName')?.errors?.['pattern']">Only alphabetic characters are allowed</mat-error>
                <mat-error *ngIf="getField('lastName')?.errors?.['minlength'] || getField('lastName')?.errors?.['maxLength']">Between 4 and 25 characters</mat-error>
            </mat-form-field>

            <mat-form-field appearance="legacy">
                <mat-label>Username:</mat-label>
                <input 
                matInput 
                type="text"
                formControlName="userName" 
                placeholder="Your last name"
                autocomplete="off"
                maxlength="20"
                >
                <mat-error *ngIf="getField('userName')?.errors?.['required']">Username is required</mat-error>
                <mat-error *ngIf="getField('userName')?.errors?.['pattern']">Only alphabetic characters, numbers and -_ are allowed.</mat-error>
                <mat-error *ngIf="getField('userName')?.errors?.['userName'] || getField('userName')?.errors?.['maxLength']">Between 4 and 25 characters</mat-error>
            </mat-form-field>

            <mat-form-field appearance="legacy">
                <mat-label>Email Address:</mat-label>
                <input 
                matInput 
                type="email"
                formControlName="email" 
                placeholder="Your email"
                autocomplete="off"
                >
                <mat-icon matSuffix>mail_outline</mat-icon>
                <mat-hint>Input your full email address</mat-hint>
                <mat-error *ngIf="getField('email')?.errors?.['required']">Email is required</mat-error>
                <mat-error *ngIf="getField('email')?.errors?.['pattern'] ">Please enter valid email</mat-error>
            </mat-form-field>

            <mat-form-field appearance="standard">
                <mat-label>Password </mat-label>
                <input matInput 
                    placeholder="Enter your password"
                    formControlName="password"
                    autocomplete="off"
                    [type]="passwordShown ? 'text' : 'password'"
                >
                <mat-icon matSuffix (click)="toggleVisibility()" class="eye">{{passwordShown?'visibility_off':'visibility'}}</mat-icon>
                <mat-error *ngIf="getField('password')?.errors?.['required']">Password is required</mat-error>
                <mat-error *ngIf="getField('password')?.errors?.['pattern']">A letter, a number and a special character is required</mat-error>
                <mat-error *ngIf="getField('password')?.errors?.['minlength']">Password must be eight characters long or more</mat-error>
            </mat-form-field>

            <mat-form-field appearance="standard">
                <mat-label>Confirm password </mat-label>
                <input matInput 
                    placeholder="Enter your password"
                    formControlName="confirmPassword"
                    autocomplete="off"
                    pattern="{{ registerForm.value.password }}"
                    [type]="passwordShown ? 'text' : 'password'"
                >
                <mat-error *ngIf="getField('confirmPassword')?.errors?.['required']">You must confirm your password</mat-error>
                <mat-error *ngIf="getField('confirmPassword')?.errors?.['pattern']">Passwords must be the same</mat-error>
            </mat-form-field>
            <p class="register">You have an account? Follow this <a [routerLink]="['/login']">link!</a></p>
            <div mat-dialog-actions >
                <button mat-raised-button color="primary" type="submit" [disabled]="!registerForm.valid">Submit</button>
            </div>
        </form>
    </div>
</app-sign>